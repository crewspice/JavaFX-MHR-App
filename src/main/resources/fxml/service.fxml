<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Line?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.layout.TilePane?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.CheckBox?>


<AnchorPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.MaxHighReach.ServiceController"
            fx:id="rootPane"
            prefHeight="600.0" prefWidth="800.0">


    <!-- Main Title -->
    <Label text="Schedule Service" layoutX="88.0" layoutY="9.0" 
           style="-fx-font-size: 18px; -fx-font-weight: bold;" />

    <!-- Status Label (shifted up) -->
    <Label fx:id="statusLabel" layoutX="8.0" layoutY="37.0"
           text="What kind of service would you like to schedule?"
           style="-fx-font-size: 14px;" />

    <!-- Buttons HBox (shifted up) -->
    <HBox layoutX="20" layoutY="56" spacing="10" alignment="CENTER_LEFT">

        <!-- Change Out Button -->
        <ToggleButton fx:id="changeOutButton" styleClass="service-type-button" onAction="#handleChangeOut"
                      minWidth="62" maxWidth="62" prefWidth="62"
                      minHeight="62" maxHeight="62" prefHeight="62"
                      contentDisplay="GRAPHIC_ONLY">
            <graphic>
                <ImageView fitWidth="52" fitHeight="52" preserveRatio="true">
                    <image>
                        <Image url="@../images/change-out.png"/>
                    </image>
                </ImageView>
            </graphic>
        </ToggleButton>

        <!-- Service Change Out Button -->
        <ToggleButton fx:id="serviceChangeOutButton" styleClass="service-type-button" onAction="#handleServiceChangeOut"
                      minWidth="62" maxWidth="62" prefWidth="62"
                      minHeight="62" maxHeight="62" prefHeight="62"
                      contentDisplay="GRAPHIC_ONLY">
            <graphic>
                <ImageView fitWidth="52" fitHeight="52" preserveRatio="true">
                    <image>
                        <Image url="@../images/service-change-out.png"/>
                    </image>
                </ImageView>
            </graphic>
        </ToggleButton>

        <!-- Small Service Button -->
        <ToggleButton fx:id="serviceButton" styleClass="service-type-button" onAction="#handleService"
                      minWidth="62" maxWidth="62" prefWidth="62"
                      minHeight="62" maxHeight="62" prefHeight="62"
                      contentDisplay="GRAPHIC_ONLY">
            <graphic>
                <ImageView fitWidth="52" fitHeight="52" preserveRatio="true">
                    <image>
                        <Image url="@../images/small-service-enlarged.png"/>
                    </image>
                </ImageView>
            </graphic>
        </ToggleButton>

        <!-- Move Button -->
        <ToggleButton fx:id="moveButton" styleClass="service-type-button" onAction="#handleMove"
                      minWidth="62" maxWidth="62" prefWidth="62"
                      minHeight="62" maxHeight="62" prefHeight="62"
                      contentDisplay="GRAPHIC_ONLY">
            <graphic>
                <ImageView fitWidth="52" fitHeight="52" preserveRatio="true">
                    <image>
                        <Image url="@../images/move.png"/>
                    </image>
                </ImageView>
            </graphic>
        </ToggleButton>

    </HBox>

    <!-- Customer & Address Info Centered -->
    <VBox layoutX="0" layoutY="122" prefWidth="320" spacing="4" alignment="CENTER">
        <Label fx:id="customerNameLabel" prefWidth="300" alignment="CENTER" textAlignment="CENTER" style="-fx-font-size: 14px;"/>
        <Label fx:id="addressBlockOneLabel" prefWidth="300" alignment="CENTER" textAlignment="CENTER" style="-fx-font-size: 14px;"/>
        <Label fx:id="addressBlockTwoLabel" prefWidth="300" alignment="CENTER" textAlignment="CENTER" style="-fx-font-size: 14px;"/>
        <Label fx:id="rentalInfoLabel" prefWidth="300" alignment="CENTER" textAlignment="CENTER" style="-fx-font-size: 14px;"/>
    </VBox>

    <Line fx:id="dividerLine"
        startX="70"
        endX="250"
        startY="220"
        endY="220"
        stroke="black"
        strokeWidth=".7"
        opacity="0"/>


    <!-- Date elements moved down by 4 -->
    <Label fx:id="serviceDateLabel" text="Service Date:" lineSpacing="-3" layoutX="14" layoutY="235" prefWidth="50" wrapText="true" visible="false"/>
    <DatePicker fx:id="datePicker" layoutX="103" layoutY="252" styleClass="date-picker" visible="false"/>
    <Rectangle fx:id="calendarCover" layoutX="64" layoutY="247" width="225" height="35" fill="#F4F4F4" visible="false"/>

    <Button fx:id="openCalendar" layoutX="278" layoutY="231" onAction="#handleOpenCalendar" styleClass="schedule-delivery-button" visible="false">
        <graphic>
            <ImageView fitWidth="30" fitHeight="30">
                <Image url="@../images/calendar.png"/>
            </ImageView>
        </graphic>
    </Button>

    <!-- TilePane for displaying the weekdays -->
    <TilePane fx:id="weeksRowTilePane" layoutX="81" layoutY="229" prefColumns="5" prefRows="2" visible="false">
        <ToggleButton text="Mon" minWidth="39" maxWidth="39" styleClass="lift-type-button-stopped" disable="true"/>
        <ToggleButton text="Tue" minWidth="39" maxWidth="39" styleClass="lift-type-button-stopped" disable="true"/>
        <ToggleButton text="Wed" minWidth="39" maxWidth="39" styleClass="lift-type-button-stopped" disable="true"/>
        <ToggleButton text="Thu" minWidth="39" maxWidth="39" styleClass="lift-type-button-stopped" disable="true"/>
        <ToggleButton text="Fri" minWidth="39" maxWidth="39" styleClass="lift-type-button-stopped" disable="true"/>
        <ToggleButton fx:id="monButton" text="fill" minWidth="39" maxWidth="39" styleClass="lift-type-button-stopped"/>
        <ToggleButton fx:id="tueButton" text="fill" minWidth="39" maxWidth="39" styleClass="lift-type-button-stopped"/>
        <ToggleButton fx:id="wedButton" text="fill" minWidth="39" maxWidth="39" styleClass="lift-type-button-stopped"/>
        <ToggleButton fx:id="thuButton" text="fill" minWidth="39" maxWidth="39" styleClass="lift-type-button-stopped"/>
        <ToggleButton fx:id="friButton" text="fill" minWidth="39" maxWidth="39" styleClass="lift-type-button-stopped"/>
    </TilePane>

    <!-- Time elements moved down by 2 -->
    <Label fx:id="serviceTimeLabel" text="Time:" layoutX="14" layoutY="282" prefWidth="55" wrapText="true" visible="false"/>

    <TilePane fx:id="serviceTimeTilePane" layoutX="72" layoutY="282" hgap="-12" vgap="0" prefColumns="4" visible="false">
        <ToggleButton fx:id="serviceTime8To10Button" text="8-10" minWidth="35" maxWidth="35" styleClass="lift-type-button-stopped"/>
        <ToggleButton fx:id="serviceTimeASAPButton" text="ASAP" minWidth="35" maxWidth="35" styleClass="lift-type-button-stopped"/>
        <ToggleButton fx:id="serviceTimeAnyButton" text="Any" minWidth="35" maxWidth="35" styleClass="lift-type-button-stopped"/>
        <ToggleButton fx:id="serviceCustomButton" text="Custom" minWidth="50" maxWidth="50" translateX="5" styleClass="lift-type-button-stopped"/>
    </TilePane>

    <ComboBox fx:id="serviceHourComboBox" layoutX="248" layoutY="282" prefWidth="58" visible="false" styleClass="small-combo-box"/>

    <!-- Ordered By Section -->
    <Label fx:id="orderedByLabel" text="Reported by:" lineSpacing="-3" layoutX="14" layoutY="316" prefWidth="80" wrapText="true" visible="false"/>
    <ComboBox fx:id="orderedByBox" layoutX="129" layoutY="314" styleClass="suggestions-box" visible="false"/>
    <TextField fx:id="orderedByField" layoutX="133" layoutY="316" prefWidth="66" styleClass="transparent-text-field" visible="false"/>
    <Label text="#:" fx:id="orderedByPhoneLabel" layoutX="199" layoutY="316" style="-fx-font-size: 16px;" visible="false"/>
    <TextField fx:id="orderedByPhoneField" layoutX="213" layoutY="316" prefWidth="77" styleClass="transparent-text-field" visible="false"/>

    <!-- Site Contact Section (Positioned Below Ordered By) -->
    <Label fx:id="siteContactLabel" text="Site Contact:" lineSpacing="-3" layoutX="14" layoutY="346" prefWidth="80" wrapText="true" visible="false"/>
    <ComboBox fx:id="siteContactBox" layoutX="129" layoutY="344" styleClass="suggestions-box" visible="false"/>
    <TextField fx:id="siteContactField" layoutX="133" layoutY="346" prefWidth="66" styleClass="transparent-text-field" visible="false"/>
    <Label text="#:" fx:id="siteContactPhoneLabel" layoutX="199" layoutY="346" style="-fx-font-size: 16px;" visible="false"/>
    <TextField fx:id="siteContactPhoneField" layoutX="213" layoutY="346" prefWidth="77" styleClass="transparent-text-field" visible="false"/>

    <!-- Notes Section -->
    <Button fx:id="notesButton" layoutX="258" layoutY="382" onAction="#handleNotes" styleClass="schedule-delivery-button" visible="false">
        <graphic>
            <ImageView fitWidth="40" fitHeight="32">
                <Image url="@../images/notes.png"/>
            </ImageView>
        </graphic>
    </Button>
    <Label fx:id="notesLabel" text="Notes:" lineSpacing="-3" prefWidth="65" layoutX="14" layoutY="380" visible="false" wrapText="true"/>
    <TextField fx:id="notesField" layoutX="89" layoutY="387" prefWidth="188" visible="false" styleClass="transparent-text-field"/>

    <CheckBox fx:id="chargeDeliveryTripCheckBox" layoutX="44" layoutY="387" visible="false"/>
    <Label fx:id="chargeDeliveryTripLabel" text="Charge for the trip" layoutX="69" layoutY="388" visible="false"/>

    <!-- Reason Section -->
    <Label fx:id="reasonLabel" text="Reason:" layoutX="14" layoutY="425" prefWidth="50" visible="false" wrapText="true"/>
    <TextField fx:id="reasonField" layoutX="73" layoutY="420" prefWidth="223" visible="false" styleClass="transparent-text-field"/>

    <!-- New Site Field (top) -->
    <Label fx:id="newSiteLabel" text="New Site:" layoutX="14" layoutY="425" prefWidth="70" visible="false" wrapText="true"/>
    <TextField fx:id="newSiteField" layoutX="88" layoutY="420" prefWidth="133" visible="false" styleClass="transparent-text-field"/>
    <CheckBox fx:id="sameSiteBox" layoutY="427" layoutX="227" visible="false" />
    <Label fx:id="sameSiteLabel" layoutY="426" layoutX="249" text="Same Site" visible="false"/>

    <!-- Address Field (below New Site) -->
    <Label fx:id="newAddressLabel" text="Address:" layoutX="14" layoutY="455" prefWidth="50" visible="false" wrapText="true"/>
    <TextField fx:id="newAddressField" layoutX="88" layoutY="450" prefWidth="183" visible="false" styleClass="transparent-text-field"/>
    <ComboBox fx:id="addressSuggestionsBox" layoutX="299" layoutY="447" visible="false" styleClass="suggestions-box"/>

    <!-- Lift Type Section -->
    <Label fx:id="newLiftTypeLabel" text="New Lift Type:" layoutX="14" layoutY="455" visible="false" wrapText="true" prefWidth="60"/>
    <TilePane fx:id="liftTypeTilePane" layoutX="80" layoutY="454" hgap="-1" vgap="0" prefColumns="4" prefRows="2" visible="false">
        <ToggleButton text="12' Mast" minWidth="54" maxWidth="54" minHeight="20" maxHeight="20" styleClass="lift-type-button-stopped" fx:id="twelveMastButton"/>
        <ToggleButton text="19' Slim" minWidth="54" maxWidth="54" minHeight="20" maxHeight="20" styleClass="lift-type-button-stopped"/>
        <ToggleButton text="26' Slim" minWidth="54" maxWidth="54" minHeight="20" maxHeight="20" styleClass="lift-type-button-stopped"/>
        <ToggleButton text="26'" minWidth="54" maxWidth="54" minHeight="20" maxHeight="20" styleClass="lift-type-button-stopped"/>
        <ToggleButton text="32'" minWidth="54" maxWidth="54" minHeight="20" maxHeight="20" styleClass="lift-type-button-stopped"/>
        <ToggleButton text="40'" minWidth="54" maxWidth="54" minHeight="20" maxHeight="20" styleClass="lift-type-button-stopped"/>
        <ToggleButton text="33' RT" minWidth="54" maxWidth="54" minHeight="20" maxHeight="20" styleClass="lift-type-button-stopped"/>
        <ToggleButton text="45' Boom" minWidth="54" maxWidth="54" minHeight="20" maxHeight="20" styleClass="lift-type-button-stopped"/>
    </TilePane>

    <Label fx:id="specificLiftLabel" text="beginnings of specific elements" layoutX="24" layoutY="515" visible="false"/>
    <HBox fx:id="specificLiftHBox" layoutX="14" layoutY="530" visible="false"/>
    <CheckBox fx:id="noPreferenceCheckBox" layoutX="170" layoutY="525" visible="false"/>
    <Label fx:id="noPreferenceLabel" text="No Preference" layoutX="195" layoutY="530" visible="false"/>


    <Button fx:id="scheduleButton" text="Schedule Service" layoutY="457" layoutX="12" prefWidth="295" onAction="#handleScheduleService" visible="false"/>
    <Label fx:id="statusLabel" layoutY="477" layoutX="12" visible="false" />
    <!-- Back Button -->
    <Button fx:id="backButton" text="Back" layoutX="270" layoutY="5" onAction="#handleBack"/>

</AnchorPane>
